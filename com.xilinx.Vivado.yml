app-id: com.xilinx.Vivado
runtime: org.freedesktop.Platform
runtime-version: '19.08'
sdk: org.freedesktop.Sdk
command: com.xilinx.Vivado
tags:
  - proprietary

finish-args:
  - --share=ipc
  - --socket=wayland
  - --socket=x11
  - --device=all
  - --allow=multiarch
  - --persist=.
  - --filesystem=xdg-documents

modules:
  - name: icoutils
    cleanup:
      - "*"
    sources:
      - type: archive
        url: http://savannah.nongnu.org/download/icoutils/icoutils-0.32.3.tar.bz2
        sha256: 17abe02d043a253b68b47e3af69c9fc755b895db68fdc8811786125df564c6e0

  - name: xilinx_installer
    buildsystem: simple
    build-options:
      strip: false
      no-debuginfo: true
    build-commands:
      - "$FLATPAK_BUILDER_BUILDDIR/installer.sh"
    sources:
      - type: file
        path: installer.sh
      - type: file
        path: xilinx_unified_installer.conf
      - type: archive
        path: xilinx_unified_installer.tar.gz
        dest: installer
