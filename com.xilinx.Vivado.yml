app-id: com.xilinx.Vivado
runtime: org.freedesktop.Platform
runtime-version: '19.08'
sdk: org.freedesktop.Sdk
command: vivado
tags:
  - proprietary

#sdk-extensions:
#  - org.freedesktop.Sdk.Compat.i386

finish-args:
  - --share=ipc
  - --socket=wayland
  - --socket=x11
  - --device=all
  - --allow=multiarch
  - --filesystem=xdg-documents
  - --filesystem=home/.Xilinx:create

#add-extensions:
#  org.freedesktop.Platform.Compat.i386:
#    directory: lib/i386-linux-gnu
#    version: '19.08'

modules:
  - name: xilinx_installer
    buildsystem: simple
    build-options:
      strip: false
      no-debuginfo: true
    build-commands:
      "$FLATPAK_BUILDER_BUILDDIR/installer.sh"
    sources:
      - type: file
        path: installer.sh
      - type: file
        path: xilinx_unified_installer.conf
      - type: file
        path: xilinx_unified_installer.tar.gz
